#!/usr/bin/env bash

ENV_FILE=.env
ENV_FILE_CONTENT="$(grep '^[^#].*$' "$ENV_FILE")"
ENV_CHOICE="$(echo "$ENV_FILE_CONTENT" | sort -n | fzf)"

[[ -z "$ENV_CHOICE" ]] && exit 0

PATTERN='*="'
REPLACE_STR="" # not needed but better to be explicit...

RESULT=${ENV_CHOICE/${PATTERN}/${REPLACE_STR}}
printf "%s" "${RESULT:0:(${#RESULT} - 1)}"

### `zsh` version
# RESULT=${ENV_CHOICE//${~PATTERN}/${REPLACE_STR}}
# printf "%s"  ${RESULT:0:(${#RESULT} - 1)}

### Using `sed`
# shellcheck disable=SC2001
printf "%s" "$ENV_CHOICE" | sed -e "s/^.*=\"\(.*\)\"$/\1/"
